# 便捷元素银行专用 Java - 基岩双端互通套件
v2025.2.18 正式版（适用于便捷元素银行 v2024.7.24 ~ v2024.7.28）  
<!-- 强烈建议使用支持 Markdown 的阅读器查看此说明 -->  
<!-- 以下内容中所有命令均不包括`反引号 -->

## 📖 简介

本套件隶属于盘灵无界项目，为 暁山水鏡 开发的梦回盘灵功能拓展包 **便捷元素银行** 提供全面的基岩版支持。

本套件依赖于“梦回盘灵专用 Java - 基岩双端互通套件”，版本必须高于 v1.6.0，请确保其已安装。



## ⚙️ 基本功能

为基岩版重制了元素银行及其附加选项的所有菜单，避免因其不支持成书菜单交互而无法使用
- 界面动态显示当前存款，无需点击查看



## ⚠️ 注意事项

- 您可以使用本方案进行任何自由创作，但严禁作为任何商业用途，以及在**与「盘灵古域」地图无关的场景**使用本压缩档中的任何文件
- 请尊重原作者，本套件不集成 DLC 本体，请自行下载



## ♻️ 前置 / 依赖关系

- 梦回盘灵专用 Java - 基岩双端互通套件 v1.6.0 或更高 



## 💿 安装/更新

### 解压

将本压缩档中的 `PanGuContinentUnbounded-server` 目录与现有的服务端根目录合并
  - 注意是把两个文件夹合并起来，而不是直接把它放服务端根目录下

### 修改配置文件，附加内容（若使用服务端部署包 v1.4 或更高版本，或其启动脚本，则可跳过此步骤）

执行服务端根目录下的自动合并脚本：
- Windows：`auto_merge_all.bat`
- Linux：`auto_merge_all.sh`

Linux 常见错误：
- `Permission denied`：请使用 chmod 为脚本设置可执行权限，或使用 bash 执行（千万不要使用 sh！）
- `No such file or directory` 或 `Exec format error`：请手动安装程序 [jq](https://jqlang.github.io/jq/) 及 [yq](https://github.com/mikefarah/yq/) 的对应系统环境的版本

或者**对应目录结构**，根据 YAML 或者 JSON 语法手动合并其中的配置文件中的内容。

### 安装 DLC 本体（请自备，本套件不集成）

1. 将便捷元素银行数据包放至服务端的 `world/datapacks` 目录下，然后启动服务端
2. 任一玩家进入游戏，然后在控制台或以管理权限执行 `/minecraft:reload` 命令，稍后玩家的聊天栏中会弹出安装选项菜单，然后：
   - 使用 Java 版：直接根据需求，在聊天栏中操作即可
   - 使用基岩版：不支持按钮交互。需要手动输入命令进行类似操作：`/trigger element_dlc_install_setting set <连带尖角括号，替换为以下数字>`
     - 额外功能
       - 无损元素转换 开启：2 关闭：3
       - 伤害测试人偶 开启：4 关闭：5
       - 掌上皇城钱庄 开启：6 关闭：7
     - 确认安装设置后，开始安装：1
3. 有关 DLC 的详细用法，请自行查阅原作者的说明
   - 如果发现问题和互通套件相关，请在盘灵无界交流社区反馈，感谢支持



## 🗑️ 卸载本套件

您可以手动在服务端目录下，删除以下文件完成卸载：
- element_pcub_merge
- plugins/Geyser-Spigot/packs/ElementDedicatedPack.zip
- world/datapacks/element_pcub.zip

但之后服务端仍残留有部分功能（基岩版菜单）。如需彻底卸载，需要更新梦盘互通套件（不推荐使用旧版覆盖安装，因为说明文档往往根据最新版本进行编写）



## 💡 盘灵无界交流社区

反馈问题、DLC 支持、茶水闲聊：

- [腾讯频道](https://pd.qq.com/s/v8t170qb)
- [KOOK](https://kook.vip/KJ7Zlx)



## ❇️ 开源

为了促进盘灵无界项目的发展，本套件的源代码对外公开，您可以从 [GitHub](https://github.com/BUGTeas/element-pcub) 或 [Gitee](https://gitee.com/BugTeaON/element-pcub) 同步更新的仓库上获取到最新的源代码，其中带有构建说明，可自行构建测试。

当然如果您有不错的想法，也可发起 Issues 或 PR 或者在盘灵无界交流社区中直接反馈